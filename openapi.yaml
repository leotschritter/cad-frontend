---
openapi: 3.1.0
tags:
- name: Itinerary Management
  description: Operations for managing travel itineraries
- name: User Management
  description: Operations for managing user accounts and profiles
components:
  schemas:
    ItineraryDto:
      type: object
      properties:
        title:
          type: string
        destination:
          type: string
        startDate:
          $ref: "#/components/schemas/LocalDate"
        shortDescription:
          type: string
        detailedDescription:
          type: string
    LocalDate:
      type: string
      format: date
      examples:
      - 2022-03-10
    UserDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        email:
          type: string
paths:
  /itinerary/create:
    post:
      summary: Create a new itinerary
      description: "Creates a new travel itinerary for a specific user. The itinerary\
        \ must include title, destination, start date, and descriptions."
      tags:
      - Itinerary Management
      parameters:
      - description: ID of the user creating the itinerary
        example: 1
        required: true
        name: userId
        in: query
        schema:
          type: integer
          format: int64
      requestBody:
        description: Itinerary details
        content:
          application/json:
            examples:
              Family Trip Example:
                summary: Example of a family trip itinerary
                value:
                  title: Family Trip to Norway
                  destination: Norway
                  startDate: 2024-06-15
                  shortDescription: Explore the fjords of southern Norway
                  detailedDescription: "A wonderful family trip to explore the beautiful\
                    \ fjords of southern Norway. We will visit Bergen, Stavanger,\
                    \ and the famous Geirangerfjord."
            schema:
              $ref: "#/components/schemas/ItineraryDto"
        required: true
      responses:
        "200":
          description: Itinerary created successfully
          content:
            application/json:
              example:
                message: Itinerary created successfully
        "400":
          description: Bad request - User ID is required or invalid data provided
          content:
            application/json:
              example:
                error: User ID is required
        "404":
          description: User not found
          content:
            application/json:
              example:
                error: User with id 123 not found
        "500":
          description: Internal server error
          content:
            application/json:
              example:
                error: An error occurred while creating the itinerary
  /itinerary/get:
    get:
      summary: Get itineraries for a user
      description: "Retrieves all itineraries associated with a specific user ID.\
        \ Returns a list of itinerary details including title, destination, start\
        \ date, and descriptions."
      tags:
      - Itinerary Management
      parameters:
      - description: ID of the user whose itineraries to retrieve
        example: 1
        required: true
        name: userId
        in: query
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: Itineraries retrieved successfully
          content:
            application/json:
              examples:
                Itinerary List Example:
                  summary: Example of returned itinerary list
                  value:
                  - title: Family Trip to Norway
                    destination: Norway
                    startDate: 2024-06-15
                    shortDescription: Explore the fjords of southern Norway
                    detailedDescription: "A wonderful family trip to explore the beautiful\
                      \ fjords of southern Norway. We will visit Bergen, Stavanger,\
                      \ and the famous Geirangerfjord."
                  - title: Business Trip to Tokyo
                    destination: Japan
                    startDate: 2024-07-20
                    shortDescription: Corporate meetings and cultural exploration
                    detailedDescription: "A business trip combining work meetings\
                      \ with cultural experiences in Tokyo, including visits to traditional\
                      \ temples and modern districts."
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ItineraryDto"
        "400":
          description: Bad request - User ID is required
          content:
            application/json:
              example:
                error: User ID is required
        "500":
          description: Internal server error
          content:
            application/json:
              example:
                error: An error occurred while retrieving itineraries
  /user/get:
    get:
      summary: Get user by email
      description: Retrieves user information by email address. Returns user details
        including name and email.
      tags:
      - User Management
      parameters:
      - description: Email address of the user to retrieve
        example: john.doe@example.com
        required: true
        name: email
        in: query
        schema:
          type: string
      responses:
        "200":
          description: User found successfully
          content:
            application/json:
              examples:
                User Found Example:
                  summary: Example of a found user
                  value:
                    id: 1
                    name: John Doe
                    email: john.doe@example.com
              schema:
                $ref: "#/components/schemas/UserDto"
        "400":
          description: Bad request - Email parameter is required
          content:
            application/json:
              example:
                error: Email parameter is required
        "404":
          description: User not found
          content:
            application/json:
              example:
                error: User with email john.doe@example.com not found
        "500":
          description: Internal server error
          content:
            application/json:
              example:
                error: An error occurred while retrieving the user
  /user/register:
    post:
      summary: Register a new user
      description: Creates a new user account with name and email. No password authentication
        is required. Email must be unique.
      tags:
      - User Management
      requestBody:
        description: User registration details
        content:
          application/json:
            examples:
              Registration Example:
                summary: Example of user registration data
                value:
                  id: 1
                  name: John Doe
                  email: john.doe@example.com
            schema:
              $ref: "#/components/schemas/UserDto"
        required: true
      responses:
        "200":
          description: User registered successfully
          content:
            application/json:
              examples:
                Registered User Example:
                  summary: Example of a successfully registered user
                  value:
                    id: 1
                    name: John Doe
                    email: john.doe@example.com
              schema:
                $ref: "#/components/schemas/UserDto"
        "400":
          description: Bad request - User already exists or invalid data provided
          content:
            application/json:
              examples:
                Duplicate Email:
                  summary: User already exists
                  value:
                    error: User with email john.doe@example.com already exists
                Invalid Data:
                  summary: Missing required fields
                  value:
                    error: Name and email are required
        "500":
          description: Internal server error
          content:
            application/json:
              example:
                error: An error occurred while registering the user
info:
  title: travel-app API
  version: 1.0.0-SNAPSHOT
