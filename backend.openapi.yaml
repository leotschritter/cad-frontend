---
openapi: 3.1.0
components:
  schemas:
    AccommodationDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        pricePerNight:
          type: number
          format: double
        rating:
          type: number
          format: float
        notes:
          type: string
        accommodationImageUrl:
          type: string
        bookingPageUrl:
          type: string
    AuthenticatedUser:
      type: object
      properties:
        uid:
          type: string
        email:
          type: string
        name:
          type: string
        emailVerified:
          type: boolean
    CommentDto:
      type: object
      properties:
        id:
          type: string
        userEmail:
          type: string
        itineraryId:
          type: integer
          format: int64
        comment:
          type: string
        createdAt:
          $ref: "#/components/schemas/LocalDateTime"
    CommentRequest:
      type: object
      properties:
        userEmail:
          type: string
        comment:
          type: string
    ItineraryDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        title:
          type: string
        destination:
          type: string
        startDate:
          $ref: "#/components/schemas/LocalDate"
        shortDescription:
          type: string
        detailedDescription:
          type: string
    ItinerarySearchDto:
      type: object
      properties:
        userName:
          type: string
        userEmail:
          type: string
        title:
          type: string
        destination:
          type: string
        description:
          type: string
        startDateFrom:
          $ref: "#/components/schemas/LocalDate"
        startDateTo:
          $ref: "#/components/schemas/LocalDate"
    ItinerarySearchResponseDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        title:
          type: string
        destination:
          type: string
        startDate:
          $ref: "#/components/schemas/LocalDate"
        shortDescription:
          type: string
        detailedDescription:
          type: string
        userName:
          type: string
        userEmail:
          type: string
    LikeDto:
      type: object
      properties:
        id:
          type: string
        userEmail:
          type: string
        itineraryId:
          type: integer
          format: int64
        createdAt:
          $ref: "#/components/schemas/LocalDateTime"
    LikeResponseDto:
      type: object
      properties:
        itineraryId:
          type: integer
          format: int64
        likeCount:
          type: integer
          format: int64
    LocalDate:
      type: string
      format: date
      examples:
        - 2022-03-10
    LocalDateTime:
      type: string
      format: date-time
      examples:
        - 2022-03-10T12:15:50
    LocationDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        description:
          type: string
        latitude:
          type: number
          format: double
        longitude:
          type: number
          format: double
        fromDate:
          $ref: "#/components/schemas/LocalDate"
        toDate:
          $ref: "#/components/schemas/LocalDate"
        imageUrls:
          type: array
          items:
            type: string
        transportDto:
          $ref: "#/components/schemas/TransportDto"
        accommodationDto:
          $ref: "#/components/schemas/AccommodationDto"
    LocationImageUploadResponseDto:
      type: object
      description: Response object for location image upload operations
      properties:
        message:
          type: string
          description: Success message
        imageUrls:
          type: array
          items:
            type: string
          description: List of uploaded image URLs
    MessageResponseDto:
      type: object
      description: Response object for successful operations
      properties:
        message:
          type: string
          description: Success or info message
    MessageResponseDto1:
      type: object
      description: Response object for successful operations
      properties:
        message:
          type: string
          description: Success or info message
    MessageResponseDto2:
      type: object
      description: Response object for successful operations
      properties:
        message:
          type: string
          description: Success or info message
    ProfileImageResponseDto:
      type: object
      description: Response object containing the profile image URL
      properties:
        imageUrl:
          type: string
          description: URL of the profile image
    ProfileImageUploadResponseDto:
      type: object
      description: Response object for profile image upload operations
      properties:
        message:
          type: string
          description: Success message
        imageUrl:
          type: string
          description: URL of the uploaded image
    TransportDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        transportType:
          type: string
        duration:
          type: integer
          format: int64
        distance:
          type: integer
          format: int64
    UserDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        email:
          type: string
        profileImageUrl:
          type: string
  securitySchemes:
    BearerAuth:
      type: http
      description: |
        Firebase ID Token authentication (Google Cloud Identity Platform).

        **Production:** Include your Firebase ID token in the Authorization header.

        **Local Development:** Include your Firebase ID token in the Authorization header.

        **Example:**
        ```
        Authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjFlM...
        ```
      in: header
      scheme: bearer
      bearerFormat: JWT
info:
  contact:
    name: Travel App Team
  description: "API for managing travel itineraries, locations, and social interactions"
  title: Travel App API
  version: 1.0.0
servers:
  - url: http://localhost:8080
tags:
  - name: Authentication
    description: Authentication-related endpoints
  - name: Comment Management
    description: Operations for managing comments on itineraries
  - name: Itinerary Management
    description: Operations for managing travel itineraries
  - name: Like Management
    description: Operations for managing likes and comments on itineraries
  - name: Location Management
    description: Operations for managing locations within itineraries
  - name: User Management
    description: Operations for managing user accounts and profiles
paths:
  /auth/health:
    get:
      summary: Health check endpoint
      description: Public endpoint to check if authentication system is working. Does
        not require authentication.
      tags:
        - Authentication
      responses:
        "200":
          description: Authentication system is healthy
  /auth/me:
    get:
      summary: Get current user information
      description: Returns the authenticated user's information from the Identity
        Platform token. Requires valid Identity Platform ID token in Authorization
        header.
      tags:
        - Authentication
      responses:
        "200":
          description: User information retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthenticatedUser"
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json: {}
      security:
        - BearerAuth: []
  /comment/itinerary/{itineraryId}:
    get:
      summary: Get comments for itinerary
      description: "Retrieves all comments for a specific itinerary, ordered by creation\
        \ date (newest first). Requires authentication."
      tags:
        - Comment Management
      parameters:
        - description: ID of the itinerary to get comments for
          example: 1
          required: true
          name: itineraryId
          in: path
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: Comments retrieved successfully
          content:
            application/json:
              examples:
                Comments response:
                  summary: Example of comments response
                  value:
                    - id: abc123
                      userEmail: john@example.com
                      itineraryId: 1
                      comment: Amazing trip! Would love to visit.
                      createdAt: 2024-06-15T10:30:00
                    - id: def456
                      userEmail: jane@example.com
                      itineraryId: 1
                      comment: Great photos!
                      createdAt: 2024-06-14T14:20:00
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CommentDto"
        "400":
          description: Bad request - Itinerary ID is required
          content:
            application/json:
              example:
                error: Itinerary ID is required
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
      security:
        - BearerAuth: []
    post:
      summary: Add comment to itinerary
      description: Adds a comment to an itinerary. Requires authentication. Users
        can add multiple comments.
      tags:
        - Comment Management
      parameters:
        - description: ID of the itinerary to comment on
          example: 1
          required: true
          name: itineraryId
          in: path
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CommentRequest"
        required: true
      responses:
        "200":
          description: Comment added successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CommentDto"
        "400":
          description: Bad request - Missing required fields or empty comment
          content:
            application/json:
              example:
                error: Comment text cannot be empty
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
      security:
        - BearerAuth: []
  /comment/user/{userEmail}:
    get:
      summary: Get comments by user
      description: "Retrieves all comments made by a specific user, ordered by creation\
        \ date (newest first). Requires authentication."
      tags:
        - Comment Management
      parameters:
        - description: Email of the user to get comments for
          example: john.doe@example.com
          required: true
          name: userEmail
          in: path
          schema:
            type: string
      responses:
        "200":
          description: User comments retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CommentDto"
        "400":
          description: Bad request - User email is required
          content:
            application/json:
              example:
                error: User email is required
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
      security:
        - BearerAuth: []
  /comment/{commentId}:
    delete:
      summary: Delete comment
      description: Deletes a comment. Requires authentication. Users can only delete
        their own comments.
      tags:
        - Comment Management
      parameters:
        - description: ID of the comment to delete
          example: abc123
          required: true
          name: commentId
          in: path
          schema:
            type: string
      responses:
        "200":
          description: Comment deleted successfully
          content:
            application/json:
              examples:
                Delete Success:
                  summary: Example of successful deletion
                  value:
                    message: Comment deleted successfully
              schema:
                $ref: "#/components/schemas/MessageResponseDto"
        "400":
          description: Bad request - Missing required fields or unauthorized
          content:
            application/json:
              example:
                error: You can only delete your own comments
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
        "404":
          description: Comment not found
          content:
            application/json:
              example:
                error: Comment not found
      security:
        - BearerAuth: []
  /itinerary/create:
    post:
      summary: Create a new itinerary
      description: "Creates a new travel itinerary for the authenticated user. Requires\
        \ authentication. The itinerary must include title, destination, start date,\
        \ and descriptions."
      tags:
        - Itinerary Management
      requestBody:
        description: Itinerary details
        content:
          application/json:
            examples:
              Family Trip Example:
                summary: Example of a family trip itinerary
                value:
                  title: Family Trip to Norway
                  destination: Norway
                  startDate: 2024-06-15
                  shortDescription: Explore the fjords of southern Norway
                  detailedDescription: "A wonderful family trip to explore the beautiful\
                    \ fjords of southern Norway. We will visit Bergen, Stavanger,\
                    \ and the famous Geirangerfjord."
            schema:
              $ref: "#/components/schemas/ItineraryDto"
        required: true
      responses:
        "200":
          description: Itinerary created successfully
          content:
            application/json:
              example:
                message: Itinerary created successfully
        "400":
          description: Bad request - Invalid data provided
          content:
            application/json:
              example:
                error: Invalid itinerary data
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
        "404":
          description: User not found
          content:
            application/json:
              example:
                error: User with email not found
        "500":
          description: Internal server error
          content:
            application/json:
              example:
                error: An error occurred while creating the itinerary
      security:
        - BearerAuth: []
  /itinerary/get:
    get:
      summary: Get itineraries for authenticated user
      description: "Retrieves all itineraries associated with the authenticated user.\
        \ Requires authentication. Returns a list of itinerary details including title,\
        \ destination, start date, and descriptions."
      tags:
        - Itinerary Management
      responses:
        "200":
          description: Itineraries retrieved successfully
          content:
            application/json:
              examples:
                Itinerary List Example:
                  summary: Example of returned itinerary list
                  value:
                    - id: 1
                      title: Family Trip to Norway
                      destination: Norway
                      startDate: 2024-06-15
                      shortDescription: Explore the fjords of southern Norway
                      detailedDescription: "A wonderful family trip to explore the beautiful\
                      \ fjords of southern Norway. We will visit Bergen, Stavanger,\
                      \ and the famous Geirangerfjord."
                    - id: 2
                      title: Business Trip to Tokyo
                      destination: Japan
                      startDate: 2024-07-20
                      shortDescription: Corporate meetings and cultural exploration
                      detailedDescription: "A business trip combining work meetings\
                      \ with cultural experiences in Tokyo, including visits to traditional\
                      \ temples and modern districts."
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ItineraryDto"
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
        "500":
          description: Internal server error
          content:
            application/json:
              example:
                error: An error occurred while retrieving itineraries
      security:
        - BearerAuth: []
  /itinerary/search:
    post:
      summary: Search itineraries
      description: "Search for itineraries based on various criteria including user\
        \ name, user email, title, destination, description, and start date range.\
        \ All search parameters are optional - empty/null values will be ignored.\
        \ Requires authentication."
      tags:
        - Itinerary Management
      requestBody:
        description: Search criteria - all fields are optional
        content:
          application/json:
            examples:
              Search by destination:
                summary: Search for all itineraries to Norway
                value:
                  destination: Norway
              Search by user and date range:
                summary: Search for user's itineraries in a specific date range
                value:
                  userName: John
                  startDateFrom: 2025-06-01
                  startDateTo: 2025-12-31
              Complex search:
                summary: Search with multiple criteria
                value:
                  userName: Smith
                  destination: Japan
                  description: culture
                  startDateFrom: 2025-01-01
              Empty search:
                summary: Get all itineraries (up to 100)
                value: {}
            schema:
              $ref: "#/components/schemas/ItinerarySearchDto"
        required: true
      responses:
        "200":
          description: Search completed successfully
          content:
            application/json:
              examples:
                Search Results Example:
                  summary: Example of search results
                  value:
                    - id: 3
                      title: Summer in Paris
                      destination: France
                      startDate: 2025-07-01
                      shortDescription: Romantic getaway in Paris
                      detailedDescription: "A week-long romantic trip exploring the\
                      \ city of lights, including visits to the Eiffel Tower, Louvre\
                      \ Museum, and Seine river cruises."
                      userName: Alice Johnson
                    - id: 5
                      title: Beach Vacation in Maldives
                      destination: Maldives
                      startDate: 2025-08-15
                      shortDescription: Tropical paradise retreat
                      detailedDescription: "Relaxing beach vacation in an overwater\
                      \ bungalow with snorkeling, diving, and spa treatments."
                      userName: Bob Williams
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ItinerarySearchResponseDto"
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
        "500":
          description: Internal server error
          content:
            application/json:
              example:
                error: An error occurred while searching itineraries
        "400":
          description: Bad Request
      security:
        - BearerAuth: []
  /like/itinerary/{itineraryId}:
    delete:
      summary: Remove like from itinerary
      description: Removes a like from an itinerary. Requires authentication.
      tags:
        - Like Management
      parameters:
        - description: ID of the itinerary to remove like from
          example: 1
          required: true
          name: itineraryId
          in: path
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: Like removed successfully
          content:
            application/json:
              examples:
                Like Removed:
                  summary: Example of successful like removal
                  value:
                    message: Like removed successfully
              schema:
                $ref: "#/components/schemas/MessageResponseDto1"
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
      security:
        - BearerAuth: []
    post:
      summary: Like an itinerary
      description: Adds a like to an itinerary. Requires authentication. Users can
        only like once per itinerary.
      tags:
        - Like Management
      parameters:
        - description: ID of the itinerary to like
          example: 1
          required: true
          name: itineraryId
          in: path
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: Itinerary liked successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LikeDto"
        "400":
          description: Bad request - User already liked this itinerary
          content:
            application/json:
              example:
                error: User has already liked this itinerary
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
      security:
        - BearerAuth: []
    get:
      summary: Get like count for itinerary
      description: Retrieves the number of likes for a specific itinerary. Requires
        authentication.
      tags:
        - Like Management
      parameters:
        - description: ID of the itinerary to get likes for
          example: 1
          required: true
          name: itineraryId
          in: path
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: Like count retrieved successfully
          content:
            application/json:
              examples:
                Likes response:
                  summary: Example of likes response
                  value:
                    itineraryId: 1
                    likeCount: 5
              schema:
                $ref: "#/components/schemas/LikeResponseDto"
        "400":
          description: Bad request - Itinerary ID is required
          content:
            application/json:
              example:
                error: Itinerary ID is required
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
      security:
        - BearerAuth: []
  /like/user:
    get:
      summary: Get likes by user
      description: Retrieves all likes made by the authenticated user. Requires authentication.
      tags:
        - Like Management
      responses:
        "200":
          description: User likes retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/LikeDto"
        "400":
          description: Bad request - User email is required
          content:
            application/json:
              example:
                error: User email is required
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
      security:
        - BearerAuth: []
  /location/itinerary/{itineraryId}:
    get:
      summary: Get locations for itinerary
      description: "Retrieves all locations for a specific itinerary, including associated\
        \ transport and accommodation information. Requires authentication."
      tags:
        - Location Management
      parameters:
        - description: ID of the itinerary to get locations for
          example: 1
          required: true
          name: itineraryId
          in: path
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: Locations retrieved successfully with transport and accommodation
            details
          content:
            application/json:
              examples:
                Locations List:
                  summary: Example list of locations with transport and accommodation
                  value:
                    - id: 1
                      name: Bergen
                      description: Historic coastal city
                      fromDate: 2024-06-15
                      toDate: 2024-06-18
                      imageUrls:
                        - https://example.com/bergen.jpg
                      transportDto:
                        id: 1
                        transportType: Flight
                        duration: 120
                        distance: 450
                      accommodationDto:
                        id: 1
                        name: Bergen Boutique Hotel
                        pricePerNight: 150.0
                        rating: 4.5
                        notes: Great location near the harbor
                        accommodationImageUrl: https://example.com/hotel.jpg
                        bookingPageUrl: https://example.com/hotel.html
                    - id: 2
                      name: Oslo
                      description: Capital city
                      fromDate: 2024-06-19
                      toDate: 2024-06-22
                      imageUrls: []
                      transportDto: null
                      accommodationDto: null
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/LocationDto"
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
        "404":
          description: Itinerary not found
          content:
            application/json:
              example:
                error: Itinerary not found
      security:
        - BearerAuth: []
    post:
      summary: Add location to itinerary
      description: Adds a new location to an existing itinerary. Upload images directly
        as multipart form data (optional). Images will be stored in Google Cloud Storage.
        Requires authentication.
      tags:
        - Location Management
      parameters:
        - description: ID of the itinerary to add location to
          example: 1
          required: true
          name: itineraryId
          in: path
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                fromDate:
                  $ref: "#/components/schemas/LocalDate"
                toDate:
                  $ref: "#/components/schemas/LocalDate"
                latitude:
                  type: number
                  format: double
                longitude:
                  type: number
                  format: double
                files:
                  type: array
                  items:
                    type: string
                    format: binary
                transportType:
                  type: string
                transportDuration:
                  type: integer
                  format: int64
                transportDistance:
                  type: integer
                  format: int64
                accommodationName:
                  type: string
                accommodationPricePerNight:
                  type: number
                  format: double
                accommodationRating:
                  type: number
                  format: float
                accommodationNotes:
                  type: string
                accommodationImageUrl:
                  type: string
                bookingPageUrl:
                  type: string
        required: true
      responses:
        "200":
          description: Location added successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LocationDto"
        "400":
          description: Bad request - Invalid data provided
          content:
            application/json:
              example:
                error: Location name is required
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
        "404":
          description: Itinerary not found
          content:
            application/json:
              example:
                error: Itinerary not found
      security:
        - BearerAuth: []
  /location/{locationId}:
    get:
      summary: Get location by ID
      description: Retrieves a specific location by its ID. Requires authentication.
      tags:
        - Location Management
      parameters:
        - description: ID of the location to retrieve
          example: 1
          required: true
          name: locationId
          in: path
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: Location retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LocationDto"
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
        "404":
          description: Location not found
          content:
            application/json:
              example:
                error: Location not found
      security:
        - BearerAuth: []
    delete:
      summary: Delete location
      description: Deletes a location from an itinerary. Requires authentication.
      tags:
        - Location Management
      parameters:
        - description: ID of the location to delete
          example: 1
          required: true
          name: locationId
          in: path
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: Location deleted successfully
          content:
            application/json:
              examples:
                Delete Success:
                  summary: Example of successful deletion
                  value:
                    message: Location deleted successfully
              schema:
                $ref: "#/components/schemas/MessageResponseDto2"
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
        "404":
          description: Location not found
          content:
            application/json:
              example:
                error: Location not found
      security:
        - BearerAuth: []
  /location/{locationId}/image-urls:
    post:
      summary: Add existing image URLs to location
      description: Adds existing image URLs (filenames) to a location without uploading.
        Used to re-link images that already exist in storage. Requires authentication.
      tags:
        - Location Management
      parameters:
        - description: ID of the location to add image URLs to
          required: true
          name: locationId
          in: path
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
        required: true
      responses:
        "200":
          description: Image URLs added successfully
          content:
            application/json:
              example:
                message: Image URLs added successfully
        "404":
          description: Location not found
        "400":
          description: Bad Request
      security:
        - BearerAuth: []
  /location/{locationId}/images:
    post:
      summary: Upload images to location
      description: Uploads one or more images to a location. Images will be stored
        in Google Cloud Storage. Requires authentication.
      tags:
        - Location Management
      parameters:
        - description: ID of the location to upload images to
          example: 1
          required: true
          name: locationId
          in: path
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                files:
                  type: array
                  items:
                    type: string
                    format: binary
        required: true
      responses:
        "200":
          description: Images uploaded successfully
          content:
            application/json:
              examples:
                Upload response:
                  summary: Example of successful image upload
                  value:
                    message: 3 images uploaded successfully
                    imageUrls:
                      - https://storage.googleapis.com/bucket/location-images/1/image1.jpg
                      - https://storage.googleapis.com/bucket/location-images/1/image2.jpg
                      - https://storage.googleapis.com/bucket/location-images/1/image3.jpg
              schema:
                $ref: "#/components/schemas/LocationImageUploadResponseDto"
        "400":
          description: Bad request - No images provided
          content:
            application/json:
              example:
                error: At least one image file is required
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
        "404":
          description: Location not found
          content:
            application/json:
              example:
                error: Location not found
      security:
        - BearerAuth: []
    delete:
      summary: Delete image from location
      description: Deletes a specific image from a location by its URL. Requires authentication.
      tags:
        - Location Management
      parameters:
        - description: ID of the location to delete image from
          example: 1
          required: true
          name: locationId
          in: path
          schema:
            type: integer
            format: int64
        - description: URL of the image to delete
          example: https://storage.googleapis.com/bucket/location-images/1/image1.jpg
          required: true
          name: imageUrl
          in: query
          schema:
            type: string
      responses:
        "200":
          description: Image deleted successfully
          content:
            application/json:
              examples:
                Delete Success:
                  summary: Example of successful image deletion
                  value:
                    message: Image deleted successfully
              schema:
                $ref: "#/components/schemas/MessageResponseDto2"
        "400":
          description: Bad request - Image URL is required
          content:
            application/json:
              example:
                error: Image URL is required
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
        "404":
          description: Location not found
          content:
            application/json:
              example:
                error: Location not found
      security:
        - BearerAuth: []
  /user/get:
    get:
      summary: Get user by email
      description: Retrieves user information by email address. Returns user details
        including name and email. Requires authentication.
      tags:
        - User Management
      parameters:
        - description: Email address of the user to retrieve
          example: john.doe@example.com
          required: true
          name: email
          in: query
          schema:
            type: string
      responses:
        "200":
          description: User found successfully
          content:
            application/json:
              examples:
                User Found Example:
                  summary: Example of a found user
                  value:
                    id: 1
                    name: John Doe
                    email: john.doe@example.com
              schema:
                $ref: "#/components/schemas/UserDto"
        "400":
          description: Bad request - Email parameter is required
          content:
            application/json:
              example:
                error: Email parameter is required
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
        "404":
          description: User not found
          content:
            application/json:
              example:
                error: User with email john.doe@example.com not found
        "500":
          description: Internal server error
          content:
            application/json:
              example:
                error: An error occurred while retrieving the user
      security:
        - BearerAuth: []
  /user/profile-image:
    post:
      summary: Upload profile image
      description: Uploads a profile image for the authenticated user. Requires authentication.
        The image will be stored in Google Cloud Storage.
      tags:
        - User Management
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
        required: true
      responses:
        "200":
          description: Profile image uploaded successfully
          content:
            application/json:
              examples:
                Upload Success:
                  summary: Example of successful upload response
                  value:
                    message: Profile image uploaded successfully
                    imageUrl: https://storage.googleapis.com/bucket/profile-images/john.doe@example.com/1234567890_photo.jpg
              schema:
                $ref: "#/components/schemas/ProfileImageUploadResponseDto"
        "400":
          description: Bad request - Invalid file
          content:
            application/json:
              example:
                error: Invalid file format
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
        "404":
          description: User not found
          content:
            application/json:
              example:
                error: User not found
      security:
        - BearerAuth: []
    get:
      summary: Get profile image URL
      description: Retrieves the profile image URL for the authenticated user. Requires
        authentication.
      tags:
        - User Management
      responses:
        "200":
          description: Profile image URL retrieved successfully
          content:
            application/json:
              examples:
                Image URL Response:
                  summary: Example of profile image URL response
                  value:
                    imageUrl: https://storage.googleapis.com/bucket/profile-images/john.doe@example.com/1234567890_photo.jpg
              schema:
                $ref: "#/components/schemas/ProfileImageResponseDto"
        "401":
          description: Unauthorized - Missing or invalid token
          content:
            application/json:
              example:
                error: Missing or invalid Authorization header
        "404":
          description: User not found or no profile image
          content:
            application/json:
              example:
                error: User not found or no profile image
      security:
        - BearerAuth: []
  /user/register:
    post:
      summary: Register a new user
      description: Creates a new user account with name and email. No password authentication
        is required. Email must be unique.
      tags:
        - User Management
      requestBody:
        description: User registration details
        content:
          application/json:
            examples:
              Registration Example:
                summary: Example of user registration data
                value:
                  id: 1
                  name: John Doe
                  email: john.doe@example.com
            schema:
              $ref: "#/components/schemas/UserDto"
        required: true
      responses:
        "200":
          description: User registered successfully
          content:
            application/json:
              examples:
                Registered User Example:
                  summary: Example of a successfully registered user
                  value:
                    id: 1
                    name: John Doe
                    email: john.doe@example.com
              schema:
                $ref: "#/components/schemas/UserDto"
        "400":
          description: Bad request - User already exists or invalid data provided
          content:
            application/json:
              examples:
                Duplicate Email:
                  summary: User already exists
                  value:
                    error: User with email john.doe@example.com already exists
                Invalid Data:
                  summary: Missing required fields
                  value:
                    error: Name and email are required
        "500":
          description: Internal server error
          content:
            application/json:
              example:
                error: An error occurred while registering the user
  /user/{email}/profile-image:
    get:
      summary: Get profile image URL by email
      description: Retrieves the profile image URL for a specific user by email. Requires
        authentication.
      tags:
        - User Management
      parameters:
        - description: Email of the user
          required: true
          name: email
          in: path
          schema:
            type: string
      responses:
        "200":
          description: Profile image URL retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProfileImageResponseDto"
        "404":
          description: User not found or no profile image
      security:
        - BearerAuth: []
